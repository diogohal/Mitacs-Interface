<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HydroForecasting</title>
</head>
<body>
    <h1>Hydrological Forecasting</h1>
    <h2>Data preprocessing</h2>
    <form action="/configure" method="post">
        <h3>Select the dates for the dataset</h3>
        <label for="start_date">Start date:</label>
        <input type="date" id="start_date" name="start_date" value="2021-04-01" min="2015-01-01" max="2023-12-31" />
        <label for="end_date">End date:</label>
        <input type="date" id="end_date" name="end_date" value="2021-11-30" min="2015-01-01" max="2023-12-31" />

        <h3>Select the method for filling missing values</h3>
        <select name="method" id="method">
            <option value="interpolation">Interpolation</option>
            <option value="fill0">Fill0</option>
            <option value="equal_dis">Split equally</option>
        </select>
        <h3>Select the method of splitting the dataset</h3>
        <select name="splitdf" id="splitdf">
            <option value="continuous">Continuous timeseries</option>
            <option value="striped">Strided timeseries</option>
        </select>
        <h3>Select the windows configuration</h3>
        <label for="window_size">window_size: </label>
        <input type="number" id="window_size", name="window_size", value="20", min="5", max="100"/>

        <label for="shift">shift: </label>
        <input type="number" id="shift", name="shift", value="1", min="1", max="1000"/>

        <label for="label_size">label_size: </label>
        <input type="number" id="label_size", name="label_size", value="1", min="1", max="100"/>

        <label for="steps_future">steps_future: </label>
        <input type="number" id="steps_future", name="steps_future", value="0", min="0", max="100"/>

        <input type="submit" value="Preprocess data">
    </form>

    {% if preprocess %}
        <h4>Data processed!</h4>
    {% endif %}

    <h2>Model configuration</h2>
    <form action="/configure_model" method="post">
        <label for="epochs">Epochs: </label>
        <input type="number" id="epochs" name="epochs" value="20">
        <br/>
        <label for="lstm_units">LSTM units: </label>
        <input type="number" id="lstm_units" name="lstm_units" value="64">
        <br/>
        <label for="dense1_units">DENSE1 units: </label>
        <input type="number" id="dense1_units" name="dense1_units" value="32">
        <br/>
        <label for="dense2_units">DENSE2 units: </label>
        <input type="number" id="dense2_units" name="dense2_units" value="32">

        <input type="submit" value="Configure model">
    </form>

    {% if model_configured %}
        <h4>Model configured!</h4>
    {% endif %}

    <form action="/add_model" method="post">
        <label for="model_name">Output filename: </label>
        <input type="text" id="model_name" name="model_name" value="model">
        <input type="submit" value="Add model">
    </form>
    
    <form action="train_model" method="post">
        <input type="submit" value="Train models">
    </form>
    <h4>Models on queue: {{ qt_models }}</h4>

</body>
</html>